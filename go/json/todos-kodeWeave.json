{"name":"Todos","title":"Easy Javascript Todo List","description":"An easy and simple javascript todo list.","version":"0.1","author":"Michael Schwartz","website":"","scratchpad":"","analytics":"","logo":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNTEyIgogICBoZWlnaHQ9IjUxMiIKICAgdmlld0JveD0iMCAwIDEzNS40NjY2NiAxMzUuNDY2NjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczIiIC8+CiAgPGcKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxnCiAgICAgICBpZD0iZzIwODYiPgogICAgICA8cmVjdAogICAgICAgICBzdHlsZT0ib3BhY2l0eTowLjgzMDY0MjtmaWxsOm5vbmU7c3Ryb2tlOiMxMjBiMjI7c3Ryb2tlLXdpZHRoOjYuNDA1MDg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO3BhaW50LW9yZGVyOm1hcmtlcnMgc3Ryb2tlIGZpbGwiCiAgICAgICAgIGlkPSJyZWN0MjM0IgogICAgICAgICB3aWR0aD0iMTA0LjUzMTY3IgogICAgICAgICBoZWlnaHQ9IjEwNC41MzE2NyIKICAgICAgICAgeD0iNS4yNTEwNDMzIgogICAgICAgICB5PSIxNS40Njc0OTkiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiNmNDQxNDE7ZmlsbC1vcGFjaXR5OjAuODMxMzcyO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjQ1ODExMXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjAuODMxMzczIgogICAgICAgICBkPSJtIDEzMy40MTgxNiwxMi4yNjQ5NTkgYyAwLDAgLTYyLjA5NzkzMywxNDUuMTcyNzgxIC0xMDMuMzcxMTYyLDU3LjEzMzY5IDIwLjUwNDAzOSwyMS42NDc2NDMgNTIuMzkxMTgyLDEzLjQ1NjgxNiAxMDMuMzcxMTYyLC01Ny4xMzM2OSB6IgogICAgICAgICBpZD0icGF0aDk1MCIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=","css":"both","fontSize":"16","theme":false,"autoupdate":false,"console":true,"pwa":true,"fontawesome":true,"html":"<nav class=\"px-4\">\n  <ul>\n    <li>\n      Todos\n    </li>\n  </ul>\n  <ul>\n    <li>\n      <button onclick=\"deleteTodos()\" class=\"bg-transparent border-none text-current\">\n        <i class=\"fa fa-trash\"></i>\n      </button>\n    </li>\n    <li>\n      <button onclick=\"addTodo()\" class=\"bg-transparent border-none text-current\">\n        <i class=\"fa fa-plus\"></i>\n      </button>\n    </li>\n    <li>\n      <button id=\"icon\" class=\"bg-transparent border-none text-current\">\n        <i class=\"fa fa-sun\"></i>\n      </button>\n    </li>\n  </ul>\n</nav>\n\n<main>\n  <article>\n    <aside>\n      <ul id=\"list\" class=\"p-0 m-0\"></ul>\n    </aside>\n  </article>\n</main>","javascript":"// project json\nlet appJSON = {\n  todos: [],\n  theme: true\n}\n\naddTodo = () => {\n  const val = prompt(\"What's your todo?\")\n  let task = {\n    item: val,\n    checked: false\n  }\n  appJSON.todos.push(task)\n  \n  list.innerHTML += `<li>\n  <input type=\"checkbox\">\n  <span>\n    ${val}\n  </span>\n</li>`\n  checkStatus()\n\n  // remember todos in localStorage\n  localStorage.setItem('Todos', JSON.stringify(appJSON))\n}\ndeleteTodos = () => {\n  const items = list.querySelectorAll('input')\n  items.forEach((child, index) => {\n    if (child.checked) {\n      child.closest('li').remove()\n    }\n  })\n}\ncheckStatus = () => {\n  const items = list.querySelectorAll('input')\n  const txt = list.querySelectorAll('span')\n  items.forEach((child, index) => {\n    child.onchange = () => {\n      // handle stored checkbox value\n      (child.checked) ? appJSON.todos[index].checked = true : appJSON.todos[index].checked = false\n      \n      // handle classes for display\n      if (child.checked) {\n        child.closest('li').classList.add('line-through')\n        child.closest('li').classList.add('text-red-500')\n      } else {\n        child.closest('li').classList.remove('line-through')\n        child.closest('li').classList.remove('text-red-500')\n      }\n      \n      // remember change in localStorage\n      localStorage.setItem('Todos', JSON.stringify(appJSON))\n    }\n  })\n\n  // trigger checkbox change on click for text\n  txt.forEach((child, index) => {\n    child.onclick = () => {\n      items[index].click()\n    }\n  })\n}\n\n// toggle theme\npickTheme = val => {\n  val = val.toString().toLowerCase()\n  const elm = document.querySelector('[data-theme]')\n\n  if (val === 'light') {\n    elm.setAttribute('data-theme', val)\n    icon.querySelector('i').classList.add('fa-sun')\n    icon.querySelector('i').classList.remove('fa-moon')\n    appJSON.theme = true\n  }\n  if (val === 'dark') {\n    elm.setAttribute('data-theme', val)\n    icon.querySelector('i').classList.remove('fa-sun')\n    icon.querySelector('i').classList.add('fa-moon')\n    appJSON.theme = false\n  }\n\n  // remember theme in localStorage\n  localStorage.setItem('Todos', JSON.stringify(appJSON))\n}\n\nicon.onclick = () => { (appJSON.theme) ? pickTheme('dark') : pickTheme('light') }\n\n// check localStorage\nif (!localStorage.getItem('Todos')) {\n  pickTheme('light')\n} else {\n  appJSON = JSON.parse(localStorage.getItem('Todos'))\n\n  // load stored todos\n  for (let i in appJSON.todos) {\n    list.innerHTML += `<li ${(appJSON.todos[i].checked) ? 'class=\"line-through text-red-500\"' : ''}>\n  <input type=\"checkbox\" ${(appJSON.todos[i].checked === true) ? 'checked' : ''}>\n  <span>\n    ${appJSON.todos[i].item}\n  </span>\n</li>`\n  }\n\n  // manage todos\n  checkStatus()\n\n  // load stored theme\n  (appJSON.theme) ? pickTheme('light') : pickTheme('dark')\n}"}