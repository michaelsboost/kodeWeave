let cacheName    = "kodeWeave";
let filesToCache = [
  "./",
  "./manifest.json",
  "./package-lock.json",
  "./package.json",
  "./sw.js",
  "./css/console.css",
  "./css/editor.css",
  "./css/iconbar.css",
  "./css/menu.css",
  "./css/modal.css",
  "./css/reset.css",
  "./css/style.css",
  "./css/toggleswitch.css",
  "./favicon.ico",
  "./imgs/bg-dark.svg",
  "./imgs/bg-light.svg",
  "./imgs/elements/accordion.svg",
  "./imgs/elements/audio.svg",
  "./imgs/elements/button.svg",
  "./imgs/elements/checkbox.svg",
  "./imgs/elements/colorpicker.svg",
  "./imgs/elements/date.svg",
  "./imgs/elements/div.svg",
  "./imgs/elements/file.svg",
  "./imgs/elements/image.svg",
  "./imgs/elements/link.svg",
  "./imgs/elements/number.svg",
  "./imgs/elements/progressbar.svg",
  "./imgs/elements/radio.svg",
  "./imgs/elements/range.svg",
  "./imgs/elements/searchfield.svg",
  "./imgs/elements/select.svg",
  "./imgs/elements/text.svg",
  "./imgs/elements/textarea.svg",
  "./imgs/elements/textfield.svg",
  "./imgs/elements/time.svg",
  "./imgs/elements/video.svg",
  "./imgs/favicon.ico",
  "./imgs/icon-192x192.png",
  "./imgs/icon-256x256.png",
  "./imgs/icon-384x384.png",
  "./imgs/icon-512x512.png",
  "./imgs/logo-old.svg",
  "./imgs/logo.png",
  "./imgs/logo.svg",
  "./index.html",
  "./js/app.js",
  "./js/dom-console.js",
  "./js/import.js",
  "./json/chart.jsdemo-kodeWeave.json",
  "./json/helloworld-kodeWeave.json",
  "./libraries/jszip/Blob.js",
  "./libraries/jszip/FileSaver.js",
  "./libraries/jszip/jszip-utils.js",
  "./libraries/jszip/jszip.min.js",
  "./libraries/normalize/normalize.css",
  "./libraries/panzoom/panzoom.js",
  "./libraries/panzoom/panzoom.min.js",
  "./libraries/panzoom/panzoom.mod.js",
  "./libraries/pico/pico.classless.min.css",
  "./libraries/tailwind/tailwind.min.js",
  "./libraries/chartjs/Chart.min.js",

  "./libraries/jsbeautify/beautify.js",
  "./libraries/jsbeautify/beautify-html.js",
  "./libraries/jsbeautify/unpackers/javascriptobfuscator_unpacker.js",
  "./libraries/jsbeautify/unpackers/urlencode_unpacker.js",
  "./libraries/jsbeautify/unpackers/p_a_c_k_e_r_unpacker.js",
  "./libraries/jsbeautify/unpackers/myobfuscate_unpacker.js",

  "./libraries/codemirror/addon/dialog/dialog.css",
  "./libraries/codemirror/addon/dialog/dialog.js",
  "./libraries/codemirror/addon/edit/closebrackets.js",
  "./libraries/codemirror/addon/edit/closetag.js",
  "./libraries/codemirror/addon/edit/continuelist.js",
  "./libraries/codemirror/addon/edit/matchbrackets.js",
  "./libraries/codemirror/addon/edit/matchtags.js",
  "./libraries/codemirror/addon/edit/trailingspace.js",
  "./libraries/codemirror/addon/fold/brace-fold.js",
  "./libraries/codemirror/addon/fold/comment-fold.js",
  "./libraries/codemirror/addon/fold/foldcode.js",
  "./libraries/codemirror/addon/fold/foldgutter.css",
  "./libraries/codemirror/addon/fold/foldgutter.js",
  "./libraries/codemirror/addon/fold/indent-fold.js",
  "./libraries/codemirror/addon/fold/markdown-fold.js",
  "./libraries/codemirror/addon/fold/xml-fold.js",
  "./libraries/codemirror/addon/hint/anyword-hint.js",
  "./libraries/codemirror/addon/hint/css-hint.js",
  "./libraries/codemirror/addon/hint/html-hint.js",
  "./libraries/codemirror/addon/hint/javascript-hint.js",
  "./libraries/codemirror/addon/hint/show-hint.css",
  "./libraries/codemirror/addon/hint/show-hint.js",
  "./libraries/codemirror/addon/hint/sql-hint.js",
  "./libraries/codemirror/addon/hint/xml-hint.js",
  "./libraries/codemirror/addon/lint/css-lint.js",
  "./libraries/codemirror/addon/lint/html-lint.js",
  "./libraries/codemirror/addon/lint/HTMLHint.js",
  "./libraries/codemirror/addon/lint/javascript-lint.js",
  "./libraries/codemirror/addon/lint/jshint.js",
  "./libraries/codemirror/addon/lint/json-lint.js",
  "./libraries/codemirror/addon/lint/lint.css",
  "./libraries/codemirror/addon/lint/lint.js",
  "./libraries/codemirror/addon/mode/loadmode.js",
  "./libraries/codemirror/addon/mode/multiplex_test.js",
  "./libraries/codemirror/addon/mode/multiplex.js",
  "./libraries/codemirror/addon/mode/overlay.js",
  "./libraries/codemirror/addon/mode/simple.js",
  "./libraries/codemirror/addon/scroll/annotatescrollbar.js",
  "./libraries/codemirror/addon/scroll/scrollpastend.js",
  "./libraries/codemirror/addon/scroll/simplescrollbars.css",
  "./libraries/codemirror/addon/scroll/simplescrollbars.js",
  "./libraries/codemirror/addon/search/jump-to-line.js",
  "./libraries/codemirror/addon/search/match-highlighter.js",
  "./libraries/codemirror/addon/search/matchesonscrollbar.css",
  "./libraries/codemirror/addon/search/matchesonscrollbar.js",
  "./libraries/codemirror/addon/search/search.js",
  "./libraries/codemirror/addon/search/searchcursor.js",
  "./libraries/codemirror/addon/selection/active-line.js",
  "./libraries/codemirror/addon/selection/mark-selection.js",
  "./libraries/codemirror/addon/selection/selection-pointer.js",
  "./libraries/codemirror/keymap/emacs.js",
  "./libraries/codemirror/keymap/sublime.js",
  "./libraries/codemirror/keymap/vim.js",
  "./libraries/codemirror/lib/codemirror.css",
  "./libraries/codemirror/lib/codemirror.js",
  "./libraries/codemirror/mode/htmlembedded/htmlembedded.js",
  "./libraries/codemirror/mode/htmlembedded/index.html",
  "./libraries/codemirror/mode/htmlmixed/htmlmixed.js",
  "./libraries/codemirror/mode/htmlmixed/index.html",
  "./libraries/codemirror/mode/javascript/index.html",
  "./libraries/codemirror/mode/javascript/javascript.js",
  "./libraries/codemirror/mode/javascript/json-ld.html",
  "./libraries/codemirror/mode/javascript/test.js",
  "./libraries/codemirror/mode/javascript/typescript.html",
  "./libraries/codemirror/mode/xml/index.html",
  "./libraries/codemirror/mode/xml/test.js",
  "./libraries/codemirror/mode/xml/xml.js",
  "./libraries/codemirror/theme/dark.css",
  "./libraries/font-awesome/css/all.css",
  "./libraries/font-awesome/css/all.min.css",
  "./libraries/font-awesome/css/brands.css",
  "./libraries/font-awesome/css/brands.min.css",
  "./libraries/font-awesome/css/fontawesome.css",
  "./libraries/font-awesome/css/fontawesome.min.css",
  "./libraries/font-awesome/css/regular.css",
  "./libraries/font-awesome/css/regular.min.css",
  "./libraries/font-awesome/css/solid.css",
  "./libraries/font-awesome/css/solid.min.css",
  "./libraries/font-awesome/css/svg-with-js.css",
  "./libraries/font-awesome/css/svg-with-js.min.css",
  "./libraries/font-awesome/css/v4-font-face.css",
  "./libraries/font-awesome/css/v4-font-face.min.css",
  "./libraries/font-awesome/css/v4-shims.css",
  "./libraries/font-awesome/css/v4-shims.min.css",
  "./libraries/font-awesome/css/v5-font-face.css",
  "./libraries/font-awesome/css/v5-font-face.min.css",
  "./libraries/font-awesome/js/all.js",
  "./libraries/font-awesome/js/all.min.js",
  "./libraries/font-awesome/js/brands.js",
  "./libraries/font-awesome/js/brands.min.js",
  "./libraries/font-awesome/js/conflict-detection.js",
  "./libraries/font-awesome/js/conflict-detection.min.js",
  "./libraries/font-awesome/js/fontawesome.js",
  "./libraries/font-awesome/js/fontawesome.min.js",
  "./libraries/font-awesome/js/regular.js",
  "./libraries/font-awesome/js/regular.min.js",
  "./libraries/font-awesome/js/solid.js",
  "./libraries/font-awesome/js/solid.min.js",
  "./libraries/font-awesome/js/v4-shims.js",
  "./libraries/font-awesome/js/v4-shims.min.js",
  "./libraries/font-awesome/LICENSE.txt",
  "./libraries/font-awesome/webfonts/fa-brands-400.ttf",
  "./libraries/font-awesome/webfonts/fa-brands-400.woff2",
  "./libraries/font-awesome/webfonts/fa-regular-400.ttf",
  "./libraries/font-awesome/webfonts/fa-regular-400.woff2",
  "./libraries/font-awesome/webfonts/fa-solid-900.ttf",
  "./libraries/font-awesome/webfonts/fa-solid-900.woff2",
  "./libraries/font-awesome/webfonts/fa-v4compatibility.ttf",
  "./libraries/font-awesome/webfonts/fa-v4compatibility.woff2"
];

/* Start the service worker and cache all of the app's content */
self.addEventListener("install", function(e) {
  e.waitUntil(
    caches.open(cacheName).then(function(cache) {
      return cache.addAll(filesToCache);
    })
  );
  self.skipWaiting();
});

/* Serve cached content when offline */
self.addEventListener("fetch", function(e) {
  e.respondWith(
    caches.match(e.request).then(function(response) {
      return response || fetch(e.request);
    })
  );
});
